---
import { getCollection } from "astro:content";
import ProductPreview from "./product/preview.astro";

const products = await getCollection("products");

---
<ul class="py-16 md:py-32 mx-auto grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 2xl:grid-cols-4 gap-x-6 gap-y-12 max-w-[90rem] place-items-center items-start">
  {
    products.map(({ data: { title, price, img, brand }, slug }) => (
      <ProductPreview title={title} price={price} img={img} brand={brand} slug={slug} />
    ))
  }
</ul>
